{% extends 'main.html' %}
{% block content %}
{% load static %}
{% load custom_tags %}

<div class="main-body">
    <div class="record-listing-wrapper">
        <div class="header-sect">
            <h3>Patients Inventory</h3>
        </div>
        <div class="listing-cont">
            <div class="card">
                <div class="card-body">
                    {% if patients|length > 0 %}
                    <table id="main-table-all" class="listing-data-cont table table-bordered table-striped">
                        <thead>
                            <tr class="info-title-wrapper">
                                <th class="columnHeader sort-control bi-sort-up"> Num</th>
                                <th class="columnHeader sort-control bi-sort-up"> Name</th>
                                <th class="columnHeader sort-control bi-sort-up"> Phone</th>
                                <th class="columnHeader sort-control bi-sort-up"> National I.D</th>
                                <th class="columnHeader sort-control bi-sort-up"> File Number</th>
                                <th class="columnHeader sort-control bi-sort-up"> Payer</th>
                                <th class="columnHeader sort-control bi-sort-up"> Gender</th>
                                <th class="columnHeader sort-control bi-sort-up"> Visit Type</th>
                                <th class="columnHeader sort-control bi-sort-up"> Residence</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for pat in patients %}
                            <tr class="row-items-wrapper">
                                <td class="row-item">{{forloop.counter}}</td>
                                <td class="row-item">{{pat}}</td>
                                <td class="row-item">{{pat.phone}}</td>
                                <td class="row-item">{{pat.national_id}}</td>
                                <td class="row-item">{{pat.op_number}}</td>
                                <td class="row-item">{{pat.payment_mode}}</td>
                                <td class="row-item">{{pat.gender}}</td>
                                <td class="row-item">{{pat.admission_category}}</td>
                                <td class="row-item">{{pat.residence}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>          
                    {% else %}
                    <div class="empty-container">
                        <span>There are no patient records yet.</span>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

{% include 'table-scripts.html' %}
{% endblock content %}